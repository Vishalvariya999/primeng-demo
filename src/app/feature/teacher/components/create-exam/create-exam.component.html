<div class="container bg-success rounded">
  <div class="col-lg-12 p-2 mt-4 bg-light">
    <h1 class="h1 text-center mt-2">{{ Heading }}</h1>
    <hr />
    <form [formGroup]="creatExamform">
      <div class="col-lg-12 mt-5 mb-2">
        <div class="p-inputgroup">
          <span class="p-float-label">
            <input
              type="text"
              pInputText
              class="p-inputtext-lg"
              formControlName="subjectName"
            />
            <label for="inputgroup">Subject Name</label>
          </span>
        </div>
        <small
          class="text-danger"
          *ngIf="
            (frmControl['subjectName'].touched &&
              frmControl['subjectName'].pristine) ||
            (showError &&
              frmControl['subjectName'].pristine &&
              frmControl['subjectName'].invalid)
          "
          >Enter Valid Subject Name</small
        >
      </div>
      <div class="col-lg-12 mb-1">
        <p-chips formControlName="notes" placeholder="Enter Notes"></p-chips>
      </div>
      <small
        class="text-danger"
        *ngIf="
          (frmControl['notes'].touched && frmControl['notes'].pristine) ||
          (showError &&
            frmControl['notes'].pristine &&
            frmControl['notes'].invalid)
        "
        >Enter Valid Notes</small
      >
      <div class="mt-3 border p-3 rounded" formArrayName="questions">
        <ng-container
          *ngFor="let question of questionsAdd.controls; let i = index"
        >
          <div [formGroupName]="i">
            <div class="p-1 fw-bold">
              Question : <span class="text-danger">{{ i + 1 }}</span>
            </div>
            <div class="col-lg-12 mt-2">
              <div class="p-inputgroup mb-2">
                <input
                  type="text"
                  pInputText
                  class="p-inputtext-lg"
                  formControlName="question"
                  placeholder="Enter Your Question : {{ i + 1 }}"
                />
              </div>
              <small
                class="text-danger"
                *ngIf="
                  (questionsAdd.controls[i].get('question')?.touched &&
                    questionsAdd.controls[i].get('question')?.pristine) ||
                  (showError &&
                    questionsAdd.controls[i].get('question')?.pristine &&
                    questionsAdd.controls[i].get('question')?.invalid)
                "
              >
                Enter Valid Question
              </small>
              <div formGroupName="options" class="mt-1 d-flex flex-column">
                <div class="d-flex justify-content-between">
                  <div class="col-md-4 mb-3">
                    <div class="p-inputgroup">
                      <span class="p-inputgroup-addon"
                        ><i class="bi bi-1-circle"></i
                      ></span>
                      <input
                        type="text"
                        pInputText
                        placeholder="Option 1"
                        formControlName="option1"
                      />
                    </div>
                  </div>
                  <div class="col-md-4 mb-3">
                    <div class="p-inputgroup">
                      <span class="p-inputgroup-addon"
                        ><i class="bi bi-1-circle"></i
                      ></span>
                      <input
                        type="text"
                        pInputText
                        placeholder="Option 2"
                        formControlName="option2"
                      />
                    </div>
                  </div>
                </div>
                <div class="d-flex justify-content-between">
                  <div class="col-md-4 mb-3">
                    <div class="p-inputgroup">
                      <span class="p-inputgroup-addon"
                        ><i class="bi bi-1-circle"></i
                      ></span>
                      <input
                        type="text"
                        pInputText
                        placeholder="Option 3"
                        formControlName="option3"
                      />
                    </div>
                  </div>
                  <div class="col-md-4 mb-3">
                    <div class="p-inputgroup">
                      <span class="p-inputgroup-addon"
                        ><i class="bi bi-1-circle"></i
                      ></span>
                      <input
                        type="text"
                        pInputText
                        placeholder="Option 4"
                        formControlName="option4"
                      />
                    </div>
                  </div>
                </div>
                <small
                  class="text-danger"
                  *ngIf="
                    (questionsAdd.controls[i].get('options')?.touched &&
                      questionsAdd.controls[i].get('options')?.pristine) ||
                    (showError &&
                      questionsAdd.controls[i].get('options')?.pristine &&
                      questionsAdd.controls[i].get('options')?.invalid)
                  "
                  >Enter valid Options
                </small>
              </div>
              <div class="col-md-12 mb-2">
                <p-dropdown
                  [options]="optionValue"
                  optionLabel="option"
                  optionValue="value"
                  formControlName="answer"
                  placeholder="Select Answer"
                >
                </p-dropdown>
              </div>
              <small
                class="text-danger"
                *ngIf="
                  (questionsAdd.controls[i].get('answer')?.touched &&
                    questionsAdd.controls[i].get('answer')?.pristine) ||
                  (showError &&
                    questionsAdd.controls[i].get('answer')?.pristine &&
                    questionsAdd.controls[i].get('answer')?.invalid)
                "
                >Select Answer</small
              >
            </div>
          </div>
          <hr />
        </ng-container>
        <button
          class="btn btn-lg btn-primary"
          [ngStyle]="{
            display: questionsAdd.controls.length === 15 ? 'none' : 'inline'
          }"
          (click)="addQuestion()"
          id="btnAddQue"
        >
          Add Question
        </button>
        <button
          id="btnSubmitExam"
          class="btn btn-lg btn-primary"
          [ngStyle]="{
            display: questionsAdd.controls.length === 15 ? 'inline' : 'none'
          }"
          (click)="submitExamPepar()"
        >
          {{ exBtn }}
        </button>
      </div>
    </form>
  </div>
</div>
